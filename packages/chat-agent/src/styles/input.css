@import "tailwindcss";

@source "../**/*.{ts,tsx}";

/*
 * Chat Agent Styles
 * @nexo-labs/chat-agent
 *
 * This package expects the consuming app to have shadcn/ui configured
 * with the standard CSS Variables (--background, --foreground, etc.)
 *
 * THEMING: Override these variables in your app's CSS to customize the chatbot:
 *
 * :root {
 *   --chat-accent-h: 210;
 *   --chat-accent-s: 100%;
 *   --chat-accent-l: 20%;
 *   --chat-status-online: 142 76% 36%;
 * }
 */

:root {
  /* Chat accent color (defaults to a blue tone, override with your brand color) */
  --chat-accent-h: 210;
  --chat-accent-s: 96%;
  --chat-accent-l: 16%;
  --chat-accent: var(--chat-accent-h) var(--chat-accent-s) var(--chat-accent-l);
  --chat-border-color: hsl(var(--chat-accent));

  /* Glow shadows using the accent color */
  --shadow-glow-primary: 0 0 20px hsl(var(--chat-accent) / 0.15);
  --shadow-glow-lg: 0 0 40px hsl(var(--chat-accent) / 0.2);
  --shadow-glow-accent: 0 0 30px hsl(var(--chat-accent) / 0.25);

  /* Status indicator colors */
  --chat-status-online: 142 76% 36%;

  /* Transition timing functions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Spring-like easing */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
}

.dark {
  /* In dark mode, you can override these if needed */
  --shadow-glow-primary: 0 0 20px hsl(var(--chat-accent) / 0.2);
  --shadow-glow-lg: 0 0 40px hsl(var(--chat-accent) / 0.25);
  --shadow-glow-accent: 0 0 30px hsl(var(--chat-accent) / 0.3);
}

/* Typing indicator animation */
@keyframes typing-bounce {
  0%,
  60%,
  100% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(-4px);
  }
}

.typing-dot {
  animation: typing-bounce 1.4s ease-in-out infinite;
}

.typing-dot:nth-child(1) {
  animation-delay: 0s;
}

.typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

/* Thinking spinner animation */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes spin-reverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

.animate-spin-reverse {
  animation: spin-reverse 2s linear infinite;
}

/* Pulse glow effect */
@keyframes pulse-glow {
  0%,
  100% {
    box-shadow: 0 0 0 0 hsl(var(--chat-accent) / 0);
  }
  50% {
    box-shadow: 0 0 20px 4px hsl(var(--chat-accent) / 0.2);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Breathing effect for avatar */
@keyframes breathing {
  0%,
  100% {
    box-shadow: 0 0 0 0 hsl(var(--chat-status-online) / 0.4);
  }
  50% {
    box-shadow: 0 0 0 6px hsl(var(--chat-status-online) / 0);
  }
}

.animate-breathing {
  animation: breathing 2s ease-in-out infinite;
}

/* Status indicator pulse */
@keyframes status-pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.2);
  }
}

.animate-status-pulse {
  animation: status-pulse 2s ease-in-out infinite;
}

/* Utility classes for chat accent */
.bg-chat-accent {
  background-color: hsl(var(--chat-accent));
}

.text-chat-accent {
  color: hsl(var(--chat-accent));
}

.border-chat-accent {
  border-color: hsl(var(--chat-accent));
}

.bg-chat-status-online {
  background-color: hsl(var(--chat-status-online));
}

.border-chat-border {
  border-color: var(--chat-border-color);
}

/* Force markdown rendering to inherit color */
.prose :where(h1, h2, h3, h4, h5, h6, p, strong, b, ul, ol, li) {
  color: inherit;
}
